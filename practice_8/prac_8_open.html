<!DOCTYPE html>
<html>
    <head>
        <title>갬블링 게임</title>
        <style>
            #div {
                border: 1px solid violet;
                background-color: ivory;
                font-size: 80px;
                color: blue;
                width: 240px;
                text-align: center;
            }
            #result {
                color: violet;
                font-size: 25px;
            }
        </style>
        <script>
            var index0 = 0;
            var index1 = 0;
            var index2 = 0;
            var clickCount = 0;
            var array = new Array();

            function rand1(){ // 첫번째 자리 난수 발생 함수
                if(index0 != 1){ // 난수 발생한 적이 없을 때
                    var span = document.getElementById("num1");
                    var num = Math.random() * 3;
                    var result = Math.floor(num);
                    span.innerHTML = result;
                    array[0] = result;

                    clickCount++;
                    index0 = 1; // 1회 끝

                    if(clickCount == 3){
                        var standardNum = array[0];
                        var win = 1; // 1이면 게임 성공

                        for(var i = 1; i < 3; i++){
                            if(array[i] != standardNum){
                                win = 0; // 0이면 게임 실패
                                break;
                            }
                        }
                        
                        var obj = document.getElementById("result");
                        if(win == 1){
                            obj.innerHTML = "Success(click here to do again)"
                        }else{
                            obj.innerHTML = "fail(click here to do again)"
                        }
                    }
                }
            }
            function rand2(){ // 두번째 자리 난수 발생 함수
                if(index1 != 1){ // 난수 발생한 적이 없으면
                    var span = document.getElementById("num2");
                    var num = Math.random() * 3;
                    var result = Math.floor(num);
                    span.innerHTML = result;
                    array[1] = result;

                    clickCount++;
                    index1 = 1; // 1회 끝

                    if(clickCount == 3){
                        var standardNum = array[0];
                        var win = 1; // 1이면 게임 성공

                        for(var i = 1; i < 3; i++){
                            if(array[i] != standardNum){
                                win = 0; // 0이면 게임 실패
                                break;
                            }
                        }
                        
                        var obj = document.getElementById("result");
                        if(win == 1){
                            obj.innerHTML = "Success(click here to do again)"
                        }else{
                            obj.innerHTML = "fail(click here to do again)"
                        }
                    }
                }
            }
            function rand3(){ // 세번째 자리 난수 발생 함수
                if(index2 != 1){ // 난수 발생한 적이 없을 때
                    var span = document.getElementById("num3");
                    var num = Math.random() * 3;
                    var result = Math.floor(num);
                    span.innerHTML = result;
                    array[2] = result;

                    clickCount++;
                    index2 = 1; // 1회 끝

                    if(clickCount == 3){
                        var standardNum = array[0];
                        var win = 1; // 1이면 게임 성공

                        for(var i = 1; i < 3; i++){
                            if(array[i] != standardNum){
                                win = 0; // 0이면 게임 실패
                                break;
                            }
                        }
                        
                        var obj = document.getElementById("result");
                        if(win == 1){
                            obj.innerHTML = "Success(click here to do again)"
                        }else{
                            obj.innerHTML = "fail(click here to do again)"
                        }
                    }
                }
            }

            function restart(){
                location.reload(); // 다시 불러오기
            }
        </script>
    </head>
    <body>
        <h3>갬블링 게임</h3>
        <p>각 숫자를 클릭하면 0에서 2 사이의 난수로 바뀝니다. 모두 같은 수가 나오면 승리합니다.</p>
        <hr>
        <div id="div">
            <span id="num1" onclick="rand1()">0</span>
            <span id="num2" onclick="rand2()">0</span>
            <span id="num3" onclick="rand3()">0</span>
        </div>
        <div id="result" onclick="restart()">

        </div>
    </body>
</html>